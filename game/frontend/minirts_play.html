<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>MiniRTS</title>
    <script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="inst_input.js"></script>
  </head>
  <body>
    <div position="relative" style="padding-left: 10px; padding-top: 10px">
      <div id="canvas_div" style="padding-bottom: 5px;">
        <canvas id="canvas" style="display: block;"></canvas>
      </div>
      <audio id="audio" src="media/door_bell.mp3" crossOrigin="anonymous" preload="auto" style="display: none;"></audio>
      <div id="input_forms">
        <form>
          <div class="form-group">
            <div class="dropdown">
              <button class="btn btn-default dropdown-toggle" type="button" id="select-inst-btn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                选择指令
                <span class="caret"></span>
              </button>
              <button class="btn btn-default" type="button" onclick="sendEmptyInst()">发送空指令</button>
              <button class="btn btn-default" id="fow" type="button" onclick="toggle_fow()">
                战争迷雾: 开
              </button>
              <ul id="select-inst" class="dropdown-menu" aria-labelledby="select-inst-btn" style="font-family: monospace;">
                <li><a href="#">mine&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp; | 挖矿</a></li>
                <li><a href="#">all peasant mine | 所有农民都去挖矿</a></li>
                <li><a href="#">build peasant&ensp;&ensp;&ensp; | 造农民</a></li>
                <li><a href="#">attack&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp; | 进攻</a></li>
                <li><a href="#">defend&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp; | 防御</a></li>
                <li role="separator" class="divider"></li>
                <li><a href="#">build a blacksmith&ensp; | 建造剑客兵营</a></li>
                <li><a href="#">build a barrack&ensp;&ensp;&ensp;&ensp; | 建造枪兵兵营</a></li>
                <li><a href="#">build a stable&ensp;&ensp;&ensp;&ensp;&ensp; | 建造骑兵兵营</a></li>
                <li><a href="#">build a workshop&ensp;&ensp;&ensp; | 建造工房</a></li>
                <li><a href="#">build a guard tower | 建造防御塔</a></li>
                <li><a href="#">build a town hall&ensp;&ensp; | 建造城镇大厅</a></li>
                <li role="separator" class="divider"></li>
                <li><a href="#">build swordman | 造剑客</a></li>
                <li><a href="#">build spearman | 造枪兵</a></li>
                <li><a href="#">build cavalry&ensp; | 造骑兵</a></li>
                <li><a href="#">build archer&ensp;&ensp; | 造弓箭手</a></li>
                <li><a href="#">build dragon&ensp;&ensp; | 造龙</a></li>
                <li><a href="#">build catapult | 造投石车</a></li>
              </ul>
            </div>
            <textarea id="user-input-inst" class="form-control" row="2" placeholder="按下 enter 发送指令；不输入内容，直接按下 enter，可以重复上一条指令"></textarea>
            <label id="cmd_hint" style="font-size:16px; color:green; font-weight: bold;" >Please use your imagination to come up with creative orders and strategies. <br> If your partner takes ANY action you didn't order, use the orange button to warn them.</label>
            <label id="cmd_warn_label" style="font-weight: bold; font-size:16px; color:red; display: none;" >Your partner has marked that you are not following orders! Please only take actions <br> that you have been asked to do. Your task is to follow orders, not to win the game. <br> If you frequently do not follow orders, your work may be rejected!</label>
            <br>
            <label id="cmd_input_label" for="cmd_input" style="font-size:20px;" >Enter you instruction here:</label>
            <textarea class="form-control" rows="2" style="font-size:18px; font-weight: bold; overflow: hidden;" id="cmd_input"></textarea>
          </div>
        </form>
        <form>
          <div class="form-group">
            <!-- <label for="cmd_history" style="font-size:20px">Log of past orders:</label> -->
            <label for="cmd_history" style="font-size:20px">历史指令:</label>
            <textarea class="form-control" rows="5" style="font-size:16px;" id="cmd_history"></textarea>
          </div>
        </form>
        <div id="issue_btn_div" style="padding-top: 2px; padding-bottom: 2px; padding-right: 2px; float: left; display: none;">
          <button id="issue_btn" type="button" class="btn btn-success btn-lg">
            <span class="glyphicon glyphicon-play" aria-hidden="true"></span> Issue Order
          </button>
        </div>

        <div id="stop_btn_div" style="padding-top: 2px; padding-bottom: 2px; padding-right: 2px; float: left; display: none;">
          <button id="stop_btn" type="button" class="btn btn-danger btn-lg">
            <span class="glyphicon glyphicon-stop" aria-hidden="true"></span> Stop Order
          </button>
        </div>

        <div id="warn_btn_div" style="padding-top: 2px; padding-bottom: 2px; padding-right: 2px; float: left; display: none;">
          <button id="warn_btn" type="button" class="btn btn-warning btn-lg">
            <span class="glyphicon glyphicon-warning-sign" aria-hidden="true"></span> Warn Player to Follow Orders
          </button>
        </div>

        <div id="finish_btn_div" style="padding-top: 2px; padding-bottom: 2px; padding-right: 2px; float: left; display: none;">
          <button id="finish_btn" type="button" class="btn btn-success btn-lg" >
            <span class="glyphicon glyphicon-ok-circle" aria-hidden="true"></span> Finish Order
          </button>
    <!-- <script src="https://minirts.net/game/game.js?v=71" type="text/javascript"></script> -->
    <script src="game_play.js?v=89" type="text/javascript"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script type = "text/javascript">
      main();
      inst_input_init();
    </script>
</body>
</html>
